<!-- start custom head snippets -->

<head>
	<link rel="stylesheet" href="/resource/styles.css">
</head>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon-k-on-pie/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-k-on-pie/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-k-on-pie/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicon-k-on-pie/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicon-k-on-pie/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<script>
// Function to get URL parameters
function getUrlParameter(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
}

// Function to auto-play audio based on URL parameter
function autoPlayAudio() {
    const audioParam = getUrlParameter('audio');
    if (audioParam) {
        const audioElement = document.getElementById(audioParam);
        if (audioElement) {
            // Scroll to the audio element
            audioElement.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // Add a small delay to ensure the page has loaded
            setTimeout(() => {
                audioElement.play().catch(error => {
                    console.log('Auto-play was prevented by browser:', error);
                    // Highlight the audio element if auto-play fails
                    audioElement.style.border = '3px solid #ff6b6b';
                    audioElement.style.borderRadius = '5px';
                });
            }, 500);
			// Alternative: Simulate click on play button
			/*
			setTimeout(() => {
				audioElement.play().catch(error => {
					// If auto-play fails, show a prominent play button or notification
					const playButton = document.createElement('button');
					playButton.textContent = 'â–¶ Click to Play Selected Audio';
					playButton.style.cssText = `
						position: fixed;
						top: 20px;
						right: 20px;
						z-index: 1000;
						background: #007cba;
						color: white;
						border: none;
						padding: 10px 20px;
						border-radius: 5px;
						cursor: pointer;
						font-size: 16px;
					`;
					playButton.onclick = () => {
						audioElement.play();
						document.body.removeChild(playButton);
					};
					document.body.appendChild(playButton);
				});
			}, 500);
			*/
        }
    }
}

// Run the function when the page loads
document.addEventListener('DOMContentLoaded', autoPlayAudio);

// Function to auto-play video based on URL parameter
function autoPlayVideo() {
    const videoParam = getUrlParameter('video');
    if (videoParam) {
        const videoContainer = document.getElementById(videoParam);
        if (videoContainer) {
            const videoElement = videoContainer.querySelector('video');
            if (videoElement) {
                // Scroll to the video element
                videoContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                // Add a small delay to ensure the page has loaded
                setTimeout(() => {
                    videoElement.play().catch(error => {
                        console.log('Auto-play was prevented by browser:', error);
                        // Highlight the video element if auto-play fails
                        videoElement.style.border = '3px solid #ff6b6b';
                        videoElement.style.borderRadius = '5px';
                    });
                }, 500);
            }
        }
    }
}

// Run the function when the page loads
document.addEventListener('DOMContentLoaded', autoPlayVideo);
</script>
<!-- end custom head snippets -->
